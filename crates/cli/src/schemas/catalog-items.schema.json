{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CatalogItem",
  "type": "object",
  "required": [
    "brand",
    "item_number",
    "scale",
    "category",
    "description",
    "count"
  ],
  "properties": {
    "brand": {
      "type": "string"
    },
    "item_number": {
      "type": "string"
    },
    "scale": {
      "type": "string"
    },
    "category": {
      "type": "string",
      "enum": [
        "ELECTRIC_MULTIPLE_UNITS",
        "FREIGHT_CARS",
        "LOCOMOTIVES",
        "PASSENGER_CARS",
        "RAILCARS",
        "STARTER_SETS",
        "TRAIN_SETS"
      ]
    },
    "description": {
      "type": "object",
      "additionalProperties": {
        "type": [ "string", "null" ]
      }
    },
    "details": {
      "type": "object",
      "additionalProperties": {
        "type": [ "string", "null" ]
      }
    },
    "power_method": {
      "type": "string",
      "enum": [
        "AC",
        "DC",
        "TRIX_EXPRESS"
      ]
    },
    "delivery_date": {
      "type": [
        "string",
        "null"
      ]
    },
    "availability_status": {
      "type": "string",
      "enum": [
        "ANNOUNCED",
        "AVAILABLE",
        "DISCONTINUED"
      ]
    },
    "rolling_stocks": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/RollingStock"
      }
    },
    "count": {
      "type": "integer",
      "format": "uint8",
      "minimum": 0.0
    }
  },
  "definitions": {
    "RollingStock": {
      "type": "object",
      "required": [
        "epoch",
        "railway",
        "technical_specifications"
      ],
      "properties": {
        "category": {
          "type": "string",
          "enum": [
            "ELECTRIC_MULTIPLE_UNIT",
            "FREIGHT_CAR",
            "LOCOMOTIVE",
            "PASSENGER_CAR",
            "RAILCAR"
          ]
        },
        "control": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "DCC",
            "DCC_READY",
            "DCC_SOUND",
            "NO_DCC"
          ]
        },
        "dcc_interface": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "MTC_21",
            "NEM_651",
            "NEM_652",
            "NEM_654",
            "NEXT_18",
            "NEXT_18_S",
            "PLUX_12",
            "PLUX_16",
            "PLUX_22",
            "PLUX_8"
          ]
        },
        "depot": {
          "type": [
            "string",
            "null"
          ]
        },
        "dummy": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "epoch": {
          "type": "string"
        },
        "length": {
          "type": [
            "integer",
            "null"
          ],
          "format": "uint32",
          "minimum": 0.0
        },
        "livery": {
          "type": [
            "string",
            "null"
          ]
        },
        "railway": {
          "type": "string"
        },
        "road_number": {
          "type": [
            "string",
            "null"
          ]
        },
        "series": {
          "type": [
            "string",
            "null"
          ]
        },
        "service_level": {
          "type": [
            "string",
            "null"
          ],
          "enum": [
            "FIRST_CLASS",
            "SECOND_CLASS",
            "FIRST_AND_SECOND_CLASS",
            "FIRST_SECOND_AND_THIRD_CLASS",
            "SECOND_AND_THIRD_CLASS"
          ]
        },
        "sub_category": {
          "type": [
            "string",
            "null"
          ]
        },
        "technical_specifications": {
          "$ref": "#/definitions/TechSpecs"
        },
        "type_name": {
          "type": "string"
        }
      }
    },
    "TechSpecs": {
      "type": "object",
      "required": [
        "coupling",
        "flywheel_fitted",
        "interior_lights",
        "lights",
        "metal_body",
        "minimum_radius",
        "spring_buffers"
      ],
      "properties": {
        "coupling": {
          "$ref": "#/definitions/Coupling"
        },
        "flywheel_fitted": {
          "$ref": "#/definitions/FeatureFlag"
        },
        "interior_lights": {
          "$ref": "#/definitions/FeatureFlag"
        },
        "lights": {
          "$ref": "#/definitions/FeatureFlag"
        },
        "metal_body": {
          "$ref": "#/definitions/FeatureFlag"
        },
        "minimum_radius": {
          "type": "number"
        },
        "spring_buffers": {
          "$ref": "#/definitions/FeatureFlag"
        }
      }
    },
    "Coupling": {
      "type": "object",
      "properties": {
        "socket": {
          "type": ["string", "null"],
          "enum": [
            "NONE",
            "NEM_355",
            "NEM_356",
            "NEM_357",
            "NEM_359",
            "NEM_360",
            "NEM_362",
            "NEM_365"
          ]
        },
        "close_couplers": {
          "$ref": "#/definitions/FeatureFlag"
        },
        "digital_shunting": {
          "$ref": "#/definitions/FeatureFlag"
        }
      }
    },
    "FeatureFlag": {
      "type": "string",
      "enum": [
        "YES",
        "NO",
        "NOT_AVAILABLE"
      ]
    }
  }
}
